{% extends 'base.html' %}

{% block content %}
    <!-- Modern Dashboard Wrapper -->
    <div class="dashboard-bg">
        <!-- Navigation Outline -->
        <section class="presentation-outline">
            <h2><i class="fas fa-list"></i> ูุญุชููุงุช ุงูุชูุฑูุฑ</h2>
            <div class="outline-grid">
                <div class="outline-card" onclick="scrollToSection('kpi-content')">
                    <div class="outline-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุงููุคุดุฑุงุช ุงูุฑุฆูุณูุฉ</h3>
                        <p>ุฅุฌูุงูู ุงููุจูุนุงุชุ ุงูุฃุฑุจุงุญุ ูุงูููุงุชูุฑ</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('main-stats')">
                    <div class="outline-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุงููุจูุนุงุช ูุงูุฎุฏูุงุช</h3>
                        <p>ุชูุงุตูู ุงููุจูุนุงุช ูุฅุญุตุงุฆูุงุช ุงูุฎุฏูุงุช</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('branch-stats')">
                    <div class="outline-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุฅุญุตุงุฆูุงุช ุงููุฑูุน</h3>
                        <p>ุฃุฏุงุก ุงููุจูุนุงุช ูุงูุฃุฑุจุงุญ ููู ูุฑุน</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('category-stats')">
                    <div class="outline-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุงูุฃุตูุงู</h3>
                        <p>ุฃูุซุฑ ุงููุฆุงุช ูุจูุนุงู ูุฑุจุญูุฉ</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('customers-analytics')">
                    <div class="outline-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุชุญููู ุงูุนููุงุก</h3>
                        <p>ุฃูู 15 ุนููู ูุฃูู 10 ูุฆุงุช ุจุงููููุฉ ูุงููุจูุบ</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('sellers-stats')">
                    <div class="outline-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุงูุจุงุฆุนูู</h3>
                        <p>ุฃุฏุงุก ุฃูุถู ุงูุจุงุฆุนูู ูู ูู ูุฑุน</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('products-stats')">
                    <div class="outline-icon">
                        <i class="fas fa-cubes"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุงูููุชุฌุงุช</h3>
                        <p>ุฃูุซุฑ ุงูููุชุฌุงุช ูุจูุนุงู ูุฑุจุญูุฉ</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="window.location.href='/products'">
                    <div class="outline-icon">
                        <i class="fas fa-warehouse"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุตูุญุฉ ุงูููุชุฌุงุช</h3>
                        <p>ุฃูู 10 ููุชุฌุงุช ููุฎุฒูููุง ุงููููู</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="window.location.href='/inventory-dashboard'">
                    <div class="outline-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุฏุงุดุจูุฑุฏ ุงููุฎุฒูู ุงููุชูุงูู</h3>
                        <p>ูุธุฑุฉ ุดุงููุฉ ูุน ุชุญููู ูุชูุฏู ููุธุงู ุฅูุฐุงุฑ</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="window.location.href='/rahaty-dashboard'">
                    <div class="outline-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุชุญูููุงุช ูุชุฌุฑ ุฑุญุชู</h3>
                        <p>ุชุญููู ุดุงูู ูุจูุงูุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('stock-stats')">
                    <div class="outline-icon">
                        <i class="fas fa-boxes"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุงููุฎุฒูู</h3>
                        <p>ุฃูุถู 20 ููุชุฌ ูุน ุญุงูุฉ ุงููุฎุฒูู</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="scrollToSection('returns-stats')">
                    <div class="outline-icon">
                        <i class="fas fa-arrow-rotate-left"></i>
                    </div>
                    <div class="outline-content">
                        <h3>ุงููุฑุชุฌุนุงุช</h3>
                        <p>ุชุญููู ุงููุฑุชุฌุนุงุช ุญุณุจ ุงููุฆุงุช ูุงูุจุงุฆุนูู</p>
                    </div>
                </div>
                
                <div class="outline-card" onclick="goToServicesPage()" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white;">
                    <div class="outline-icon" style="background: rgba(255,255,255,0.2);">
                        <i class="fas fa-concierge-bell"></i>
                    </div>
                    <div class="outline-content">
                        <h3>๐ ุงูุฎุฏูุงุช</h3>
                        <p>ุชุญููู ุชูุตููู ููุฎุฏูุงุช ูุงููุฑุชุฌุนุงุช</p>
                    </div>
                </div>
                
            </div>
        </section>

        <div class="filters modern-filters" id="filters-container">
            <div class="filter-group">
                <label>ููุงุชุฑ ุณุฑูุนุฉ:</label>
                <button id="mid-monthly-btn" class="btn-secondary">ุงููุตู ุงูุฃูู ูู ุงูุดูุฑ</button>
                <button id="monthly-btn" class="btn-secondary">ูุฐุง ุงูุดูุฑ</button>
            </div>
            <div class="filter-group">
                <label for="month-picker">ุงูุดูุฑ:</label>
                <input type="month" id="month-picker" class="month-filter" style="min-width: 120px;">
            </div>
            <div class="filter-group">
                <label for="branch-select">ุงููุฑุน:</label>
                <select id="branch-select" class="branch-filter">
                    <option value="">ูู ุงููุฑูุน</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="day-selector">ุงูููู:</label>
                <select id="day-selector" class="day-filter">
                    <option value="">ุงุฎุชุฑ ููู</option>
                </select>
                <label for="start-day">ูู ููู:</label>
                <select id="start-day" class="day-filter">
                    <option value="">ูู</option>
                </select>
                <label for="end-day">ุฅูู ููู:</label>
                <select id="end-day" class="day-filter">
                    <option value="">ุฅูู</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="start-date">ูู ุชุงุฑูุฎ:</label>
                <input type="date" id="start-date" class="date-filter" style="min-width: 120px;">
                <label for="end-date">ุฅูู ุชุงุฑูุฎ:</label>
                <input type="date" id="end-date" class="date-filter" style="min-width: 120px;">
                <button id="manual-fetch-btn" class="btn-primary">ุนุฑุถ ุงูุจูุงูุงุช</button>
            </div>
        </div>

        <!-- ุชูุธูู ุฌุฏูุฏ ูููุญุชูู -->
        <div id="kpi-content"></div>

        <section class="dashboard-section" id="main-stats">
            <h2>ุงููุจูุนุงุช ูุงูุฎุฏูุงุช</h2>
            <div id="services-table-content" class="table-container"></div>
            <div id="sales-table-content" class="table-container"></div>
        </section>

        <section class="dashboard-section" id="branch-stats">
            <h2>ุฅุญุตุงุฆูุงุช ุงููุฑูุน</h2>
            <div id="branch-sales-table-content" class="table-container"></div>
            <div id="branch-profits-table-content" class="table-container"></div>
        </section>

        <section class="dashboard-section" id="category-stats">
            <h2>ุงูุฃุตูุงู</h2>
            <div id="top-categories-table-content" class="table-container"></div>
            <div id="top-categories-by-profit-table-content" class="table-container"></div>
        </section>

        <section class="dashboard-section" id="customers-analytics">
            <h2>ุชุญููู ุงูุนููุงุก ูุงููุฆุงุช ุงููุชูุฏู</h2>
            <div id="top-10-categories-table-content" class="table-container"></div>
            <div id="top-15-customers-table-content" class="table-container"></div>
        </section>

        <section class="dashboard-section" id="sellers-stats">
            <h2>ุงูุจุงุฆุนูู</h2>
            <div id="top-sellers-table-content" class="table-container"></div>
            <div id="top-10-sellers-table-content" class="table-container"></div>
        </section>

        <section class="dashboard-section" id="products-stats">
            <h2>ุงูููุชุฌุงุช</h2>
            <div id="top-products-by-sales-value-content" class="table-container"></div>
            <div id="top-products-by-quantity-content" class="table-container"></div>
            <div id="top-products-by-profit-content" class="table-container"></div>
        </section>

        <section class="dashboard-section" id="returns-stats">
            <h2>ุงููุฑุชุฌุนุงุช</h2>
            <div id="top-categories-by-returns-content" class="table-container"></div>
            <div id="top-sellers-by-returns-content" class="table-container"></div>
        </section>

        <section class="dashboard-section" id="stock-stats">
            <h2>ุงููุฎุฒูู</h2>
            <div id="stock-products-content" class="table-container"></div>
        </section>
    </div>
    <!-- End Modern Dashboard Wrapper -->
{% endblock %}

{% block dashboard_scripts %}
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}
